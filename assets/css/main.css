/* ========== Tokens ==========
   (single source of truth for colors) */
:root{
  --bg:#ffffff;
  --fg:#111111;
  --muted:#6b6b6b;
  --rule:#e9e9e9;
  --accent:#111111;
  --pillfg:#ffffff;
}

/* ========== Base ========== */
*{ box-sizing:border-box }
html,body{
  margin:0; padding:0;
  background:var(--bg); color:var(--fg);
  font-family:Inter,system-ui,Arial,sans-serif;
  line-height:1.6;
}
a{ color:inherit; text-decoration:none }
a:hover{ opacity:.8 }
img{ max-width:100%; display:block }
.wrap{ max-width:1100px; margin:auto; padding:0 20px }
.section-title{
  font-size:1.1rem; text-transform:uppercase;
  letter-spacing:.08em; margin:0 0 1rem; color:var(--muted)
}
.muted{ color:var(--muted) }

/* ========== Header & Nav ========== */
.site-head,.site-foot{ border-bottom:1px solid var(--rule) }
.site-foot{ border-top:1px solid var(--rule); border-bottom:0; margin-top:4rem }
.site-head{
  position:sticky; top:0; z-index:30;
  display:flex; justify-content:space-between; align-items:center;
  padding:16px 20px;
  backdrop-filter:saturate(120%) blur(8px);
  background:rgba(255,255,255,.7);
  border-bottom:1px solid var(--rule);
}
.logo{ font-weight:800; letter-spacing:.02em }
.nav{ display:flex; align-items:center; gap:18px }
.nav a{
  color:var(--muted);
  position:relative;
  background-image:linear-gradient(currentColor,currentColor);
  background-repeat:no-repeat; background-size:0% 2px; background-position:0 100%;
  transition: color .15s ease, background-size .2s ease;
}
.nav a:hover, .nav a:focus-visible{
  color:var(--fg); background-size:100% 2px; outline:none;
}

/* Header logo clamp */
.site-head .nav-mark{
  width:40px; height:40px; object-fit:contain;
  display:block; border-radius:8px; border:1px solid var(--rule);
}
@media (max-width:820px){
  .site-head .nav-mark{ width:32px; height:32px }
}

/* Sticky header polish on scroll */
.site-head.is-stuck{
  box-shadow:0 10px 24px rgba(0,0,0,.10);
  background:rgba(255,255,255,.85);
  backdrop-filter:saturate(120%) blur(8px);
}

/* ========== Hero ========== */
.hero{
  padding: clamp(56px, 8vw, 96px) 0;
  border-bottom:1px solid var(--rule);
  background:
    radial-gradient(900px 350px at 20% -10%, rgba(255,90,31,.10), transparent 60%),
    radial-gradient(700px 280px at 80% -10%, rgba(255,255,255,.06), transparent 60%);
}
.brand{ font-size:clamp(2.2rem,4vw,3.25rem); font-weight:800; letter-spacing:-.02em; margin:0 0 .25rem }
.tag{ margin:.25rem 0 1rem; color:var(--muted) }
.subs{ display:flex; flex-wrap:wrap; gap:10px; justify-content:center }
.pill{
  display:inline-block; padding:10px 14px; border:1px solid var(--accent);
  border-radius:999px; background:var(--accent); color:var(--pillfg); font-weight:600;
  transition:transform .15s ease, box-shadow .15s ease, opacity .15s ease;
}
.pill:hover{ transform:translateY(-1px); box-shadow:0 8px 20px rgba(0,0,0,.08) }

/* Hero with right-side logo (current) */
.hero-with-logo .wrap{ max-width:1100px; text-align:left }
.hero-split{
  display:flex; align-items:center; justify-content:space-between;
  gap: clamp(20px, 4vw, 40px);
}
.hero-left{ min-width:0 }
.hero-left .subs{ justify-content:flex-start }
.hero-right{ flex:0 0 auto; display:flex; justify-content:center }
.hero-logo{
  display:block; width:220px; max-width:42vw; height:auto; object-fit:contain;
  border:1px solid var(--rule); border-radius:16px; padding:10px;
  box-shadow:0 24px 50px rgba(0,0,0,.12);
}
/* safety clamp for any img inside hero */
.hero-with-logo img{ max-width:min(260px, 60vw); height:auto }

@media (max-width:900px){
  .hero-split{ flex-direction:column; text-align:center }
  .hero-left .subs{ justify-content:center }
  .hero-logo{ width:160px }
}

/* Platform icons in hero */
.platforms{
  display:flex; gap:10px; flex-wrap:wrap;
  justify-content:center; margin-top:.5rem;
}
.platforms .icon{
  width:44px; height:44px;
  display:inline-grid; place-items:center;
  border-radius:999px; border:1px solid var(--rule);
  background:var(--bg); color:var(--fg);
  transition: transform .15s ease, box-shadow .15s ease;
}
.platforms .icon:hover{
  transform:translateY(-1px);
  box-shadow:0 8px 20px rgba(0,0,0,.08);
}
.sr-only{ position:absolute; width:1px; height:1px; margin:-1px; clip:rect(0 0 0 0); overflow:hidden; white-space:nowrap; border:0; padding:0 }


/* ========== Latest feature ========== */
.latest{ padding:36px 0; border-bottom:1px solid var(--rule) }
.feature{
  display:grid; grid-template-columns:1.5fr 1fr; gap:24px; align-items:center
}
.feature-cover{ border-radius:12px }
.player audio{ width:100%; border:1px solid var(--rule); border-radius:12px; padding:6px }
@media (max-width:820px){ .feature{ grid-template-columns:1fr } }

/* ========== Episode cards grid ========== */
.grid{ padding:36px 0 }
.cards{ display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:20px }
.card{
  border:1px solid var(--rule); border-radius:12px; overflow:hidden; background:#fff;
  display:flex; flex-direction:column;
  transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.card:hover{ transform:translateY(-3px); box-shadow:0 10px 24px rgba(0,0,0,.1); border-color:transparent }
.card img{ aspect-ratio:16/9; object-fit:cover }
.card-body{ padding:14px }
.card-body h3{ margin:.25rem 0 .5rem; font-size:1.05rem }
.line-clamp{ display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden }

/* Card hover “play” overlay */
a.card{ position:relative; overflow:hidden }
a.card:hover img{ transform:scale(1.02); filter:brightness(.95) }
a.card::after{
  content:"▶"; position:absolute; inset:0; display:grid; place-items:center;
  font-size:30px; color:rgba(255,255,255,.95); text-shadow:0 6px 16px rgba(0,0,0,.25);
  opacity:0; transform:translateY(4px); transition:opacity .15s ease, transform .15s ease;
}
a.card:hover::after{ opacity:.9; transform:none }
@media (prefers-reduced-motion:reduce){
  a.card:hover img{ transform:none } a.card::after{ transition:none }
}

/* ========== Post page ========== */
.post{ padding:36px 0 }
.post-head{ border-bottom:1px solid var(--rule); padding-bottom:20px; margin-bottom:28px }
.post-head h1{ margin:0 }
.post-cover{
  display:block; width:100%; height:auto;
  max-width:720px; margin:16px auto; border-radius:12px;
}
.player.big{ max-width:720px; margin:12px auto 0 }
.listen-row{ display:flex; gap:8px; flex-wrap:wrap; margin-top:12px }
.pill.small{ padding:8px 12px; font-size:.9rem; border-radius:999px }

/* ========== About page ========== */
.about .wrap{ max-width:980px; padding:36px 20px }
.about-wrap{ display:grid; grid-template-columns:1.4fr .8fr; gap:32px }
.about-main h1{ margin:0 0 .5rem; letter-spacing:-.01em }
.prose p{ margin:1rem 0 }
.prose a{ text-decoration:underline; text-underline-offset:2px }
.prose ul,.prose ol{ margin:.75rem 0 .75rem 1.25rem }
.prose blockquote{
  margin:1rem 0; padding:.75rem 1rem; border-left:3px solid var(--rule);
  background:rgba(0,0,0,.03); border-radius:8px;
}
.about-cta{ margin-top:16px; display:flex; gap:10px; flex-wrap:wrap }
.pill.outline{ background:transparent; color:var(--fg); border-color:var(--fg) }
.pill.outline:hover{ opacity:.9; transform:translateY(-1px); box-shadow:0 8px 20px rgba(0,0,0,.08) }
.about-aside{ align-self:start; display:grid; gap:14px }
.about-logo{ width:100%; max-width:180px; border:1px solid var(--rule); border-radius:12px; padding:8px }
.about-photo{ width:100%; border-radius:12px; border:1px solid var(--rule) }
@media (max-width:900px){
  .about-wrap{ grid-template-columns:1fr }
  .about-aside{ grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px }
  .about-logo{ max-width:100% }
}

/* ========== Share buttons ========== */
.share-row{ display:flex; gap:8px; flex-wrap:wrap; margin-top:12px }
.share-row .pill{
  display:inline-flex; align-items:center; justify-content:center; line-height:1;
}
button.pill{
  appearance:none; -webkit-appearance:none; font:inherit; font-weight:600;
  padding:10px 14px; border-radius:999px; border-width:1px;
}

/* ========== Social rail ========== */
.social-rail{
  position:fixed; right:16px; top:50%; transform:translateY(-50%);
  z-index:50; pointer-events:none;
}
.social-rail .icon-row{
  display:flex; flex-direction:column; gap:10px; margin:0; pointer-events:auto;
}
.social-rail .icon{
  width:40px; height:40px; border-radius:12px;
  backdrop-filter:saturate(120%) blur(6px);
  background:rgba(0,0,0,.06); border:1px solid var(--rule);
}
@media (max-width:820px){
  .social-rail{ top:auto; bottom:14px; right:14px; transform:none }
  .social-rail .icon-row{ flex-direction:row; gap:8px }
  .social-rail .icon{ width:34px; height:34px; border-radius:10px }
}

/* Footer socials */
.site-foot{ padding:20px 0; text-align:center }
.site-foot .icon-row{ justify-content:center }
.site-foot .icon{ border-color:var(--rule) }
.site-foot .muted{ margin-top:8px; font-size:.9rem }

/* ========== 404 ========== */
.nf{ padding: clamp(64px,8vw,96px) 0 96px; text-align:center }
.nf h1{ margin:0 0 .5rem; letter-spacing:-.01em; font-size:clamp(1.8rem,4vw,2.4rem) }
.nf .btns{ margin-top:16px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap }

/* ========== Accessibility: skip link ========== */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus-visible{
  left:16px; top:16px; width:auto; height:auto;
  padding:8px 12px; border:1px solid var(--rule); border-radius:8px;
  background:var(--bg); color:var(--fg); z-index:1000;
  box-shadow:0 6px 16px rgba(0,0,0,.08); outline:none;
}

/* ========== Dark mode tweaks ========== */
@media (prefers-color-scheme:dark){
  :root{ --bg:#0f0f10; --fg:#f5f5f5; --muted:#9aa0a6; --rule:#2a2c2e; --accent:#ffffff; --pillfg:#111 }
  .site-head{ background:rgba(15,16,16,.55) }
  .site-head.is-stuck{ background:rgba(15,16,16,.65); box-shadow:0 10px 24px rgba(0,0,0,.35) }
  .card{ background:#1a1c1e; border-color:#2a2c2e }
  .site-head,.site-foot{ border-color:#2a2c2e }
  .social-rail .icon{ background:rgba(255,255,255,.08) }
}

/* Mobile: keep the header always visible */
@media (max-width: 820px){
  :root{ --head-h: 60px; }                  /* header height */
  body{ padding-top: var(--head-h); }       /* space for the fixed header */
  .site-head{
    position: fixed; top: 0; left: 0; right: 0;
    height: var(--head-h);
    padding: 12px 16px;                     /* a bit tighter on phones */
  }
}

/* ---------- Socials visibility logic ---------- */
/* Desktop (default): header icons visible, floating rail hidden */
.nav-social { display: flex; align-items: center; gap: 12px; margin-left: 12px; }
.social-rail { display: none !important; }

/* Tidy small icon buttons in header */
.nav-social .icon { width: 28px; height: 28px; border-radius: 999px; }
.nav-social .icon svg { width: 18px; height: 18px; }

/* Mobile: hide header icons, show floating rail */
@media (max-width: 820px){
  .nav-social { display: none !important; }
  .social-rail {
    display: block !important;
    position: fixed; right: 14px; bottom: 14px; z-index: 50;
  }
  .social-rail .icon-row { display: flex; gap: 8px; }
  .social-rail .icon { width: 34px; height: 34px; border-radius: 10px; }
}
